
  name: Java CI Pipeline Demo


  on:

  push:

    branches: [ main ]

  pull_request:

  branches: [ main ]


  jobs:

  build:

    name: Build project

  runs-on: ubuntu-latest


  steps:

    - name: Checkout repository

      uses: actions/checkout@v4


    - name: Set up JDK

      uses: actions/setup-java@v4

      with:

      java-version: '17'

      distribution: 'temurin' # OpenJDK from Eclipse Temurin


    - name: Build with Maven

      run: mvn -B clean package --file pom.xml


  test:

    name: Run tests

    runs-on: ubuntu-latest

    needs: build


    steps:

    - name: Checkout repository

      uses: actions/checkout@v4


    - name: Set up JDK

      uses: actions/setup-java@v4

      with:

        java-version: '17'

        distribution: 'temurin'


    - name: Build with Maven
      run: mvn -B package --file pom.xml




